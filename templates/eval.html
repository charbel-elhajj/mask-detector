<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
        <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css"
          integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
    <title>YOLO-v4</title>
</head>
<body>
<div class="container">
    <div class="row">
        <div class="col-lg-8  offset-lg-2">
            <h3 class="mt-5">Evaluation</h3>
            <input id='input-dir' placeholder="Enter the path of the dataset" style="width : 500px;"/><button id='eval-but'>COCO Eval</button>
        </div>
    </div>
    <div class="row">
        <p id='results'>
        </p>
    </div>
</div>
</body>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script>
    const button = document.getElementById('eval-but')

    button.addEventListener("click", () => {
        directory = document.getElementById('input-dir').value
        document.getElementById('results').innerHTML = 'Evaluating dataset ...  Please wait'
        if (directory.lenght == 0)
        {
            alert('Please enter a directory')
        }
        else
        {
            $.ajax({
                url: '/eval',
                data:{
                    folder: directory
                },
                type: 'POST',
                success: function(response) {
                    console.log(response);
                    document.getElementById('results').innerHTML = response;
                },
                error: function(error) {
                    document.getElementById('results').innerHTML = 'An error occured :(';
                    console.log(error);
                }
            });
        }
    });
</script>
</html>